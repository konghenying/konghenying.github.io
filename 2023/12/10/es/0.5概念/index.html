
<!DOCTYPE html>
<html lang="zh-CN" class="loading">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>es概念 - 空痕影的从头再来</title>
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="google" content="notranslate" />
    <meta name="keywords" content="TriDiamond Obsidian,"> 
    <meta name="description" content="es概念​    Elasticsearch 是一种分布式文档存储。Elasticsearch 存储的是序列化为 JSON 文档的复杂数据结构，而不是以列数据行的形式存储信息。当集群中有多个 Ela,"> 
    <meta name="author" content="空痕影"> 
    <link rel="alternative" href="atom.xml" title="空痕影的从头再来" type="application/atom+xml"> 
    <link rel="icon" href="/img/favicon.png"> 
    
<link rel="stylesheet" href="//at.alicdn.com/t/font_1429596_nzgqgvnmkjb.css">

    
<link rel="stylesheet" href="//cdn.bootcss.com/animate.css/3.7.2/animate.min.css">

    
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/social-share.js/1.0.16/css/share.min.css">

    
<link rel="stylesheet" href="//cdn.bootcss.com/codemirror/5.48.4/codemirror.min.css">

    
<link rel="stylesheet" href="//cdn.bootcss.com/codemirror/5.48.4/theme/dracula.css">

    
<link rel="stylesheet" href="/css/obsidian.css">

    
<link rel="stylesheet" href="/css/ball-atom.min.css">

    
<meta name="generator" content="Hexo 5.4.0"></head>


<body class="loading">
    <div class="loader">
        <div class="la-ball-atom la-2x">
            <div></div>
            <div></div>
            <div></div>
            <div></div>
        </div>
    </div>
    <span id="config-title" style="display:none">空痕影的从头再来</span>
    <div id="loader"></div>
    <div id="single">
    <div class="scrollbar gradient-bg-rev"></div>
<div id="top" style="display: block;">
    <div class="bar" style="width: 0;"></div>
    <div class="navigation animated fadeIn fast delay-1s">
        <img id="home-icon" class="icon-home" src="/img/favicon.png" alt="" data-url="https://konghenying.github.io">
        <div id="play-icon" title="Play/Pause" class="iconfont icon-play"></div>
        <h3 class="subtitle">es概念</h3>
        <div class="social">
            <!--        <div class="like-icon">-->
            <!--            <a href="javascript:;" class="likeThis active"><span class="icon-like"></span><span class="count">76</span></a>-->
            <!--        </div>-->
            <div>
                <div class="share">
                    
                        <a href="javascript:;" class="iconfont icon-share1"></a>
                        <div class="share-component-cc" data-disabled="facebook,douban,linkedin,diandian,tencent,google"></div>
                    
                </div>
            </div>
        </div>
    </div>
</div>

    <div class="section">
        <div class=article-header-wrapper>
    <div class="article-header">
        <div class="article-cover animated fadeIn" style="
            animation-delay: 600ms;
            animation-duration: 1.2s;
            background-image: 
                radial-gradient(ellipse closest-side, rgba(0, 0, 0, 0.65), #100e17),
                url(/img/cover.jpg) ">
        </div>
        <div class="else">
            <p class="animated fadeInDown">
                
                <a href="/categories/es"><b>「
                    </b>ES<b> 」</b></a>
                
                十二月 10, 2023
            </p>
            <h3 class="post-title animated fadeInDown"><a href="/2023/12/10/es/0.5%E6%A6%82%E5%BF%B5/" title="es概念" class="">es概念</a>
            </h3>
            
            <p class="post-count animated fadeInDown">
                
                <span>
                    <b class="iconfont icon-text2"></b> <i>文章字数</i>
                    9.1k
                </span>
                
                
                <span>
                    <b class="iconfont icon-timer__s"></b> <i>阅读约需</i>
                    8 mins.
                </span>
                
                
                
                <span id="busuanzi_container_page_pv">
                    <b class="iconfont icon-read"></b> <i>阅读次数</i>
                    <span id="busuanzi_value_page_pv">0</span>
                </span>
                
            </p>
            
            
            <ul class="animated fadeInDown post-tags-list" itemprop="keywords"><li class="animated fadeInDown post-tags-list-item"><a class="animated fadeInDown post-tags-list-link" href="/tags/es/" rel="tag">es</a></li></ul>
            
        </div>
    </div>
</div>

<div class="screen-gradient-after">
    <div class="screen-gradient-content">
        <div class="screen-gradient-content-inside">
            <div class="bold-underline-links screen-gradient-sponsor">
                <p>
                    <span class="animated fadeIn delay-1s"></span>
                </p>
            </div>
        </div>
    </div>
</div>

<div class="article">
    <div class='main'>
        <div class="content markdown animated fadeIn">
            <h1 id="es概念"><a href="#es概念" class="headerlink" title="es概念"></a>es概念</h1><p>​    Elasticsearch 是一种分布式文档存储。Elasticsearch 存储的是序列化为 JSON 文档的复杂数据结构，而不是以列数据行的形式存储信息。当集群中有多个 Elasticsearch 节点时，存储的文档会分布在整个集群中，可以从任意节点立即访问。</p>
<p>​    文档存储后，会在 1 秒钟内编制索引并进行完全实时搜索。Elasticsearch 使用一种称为倒排索引的数据结构，支持非常快速的全文检索。倒排索引列出了任何文档中出现的每一个单词，并能识别每个单词出现的所有文档。</p>
<p>​    索引可以看作是文档的优化集合，而每个文档又是字段的集合，即包含数据的键值对。默认情况下，Elasticsearch 会为每个字段中的所有数据建立索引，每个索引字段都有一个专用的优化数据结构。</p>
<h3 id="lucene"><a href="#lucene" class="headerlink" title="lucene"></a>lucene</h3><p>​    Lucene是一个成熟的全文检索库,由Java语言编写,具有高性能、可伸缩的特点,并且开源、免费.</p>
<p>​    Lucene的作者是Doug Cutting,2001年10月贡献给Apache,成为Apache基金会的一个子项目.</p>
<p>​    Lucene是一个IR库(Information Retrieval library).后来才由Shay Banon在其基础上开发了Elasticsearch. </p>
<h2 id="集群"><a href="#集群" class="headerlink" title="集群"></a>集群</h2><p>​    一个运行中的 Elasticsearch 实例称为一个节点，而集群是由一个或者多个拥有相同 cluster.name 配置的节点组成， 它们共同承担数据和负载的压力。当有节点加入集群中或者从集群中移除节点时，集群将会重新平均分布所有的数据。</p>
<h2 id="节点"><a href="#节点" class="headerlink" title="节点"></a>节点</h2><p>组成集群的单位.根据角色划分不同的职责.节点可以多角色,所以节点可以有多个职责.</p>
<p>有以下角色分类:</p>
<h3 id="主节点-master-node-m"><a href="#主节点-master-node-m" class="headerlink" title="主节点  master node (m)"></a>主节点  master node (m)</h3><p>主节点负责集群层面的相关操作，管理集群变更。</p>
<ul>
<li>处理所有集群范围的功能，例如构建和删除索引、监控节点和分发分片。</li>
<li>控制描述索引的所有元数据，例如索引名称、分片数量和主分片位置。</li>
<li>管理节点操作，例如分片之间的数据分布以及执行集群级别的设置和策略。</li>
<li>主节点还监视所有节点的健康状况。 保证其他节点响应查询并有足够的存储空间来存储数据。</li>
<li>主节点存在容错性与高可用性, 当主节点挂了,集群会立即从拥有主节点角色的候选节点中选举出一个节点作为主节点.</li>
</ul>
<p>需要满足的条件:</p>
<ul>
<li>配置文件中’role.node:[“master”]’</li>
<li>被集群选举出来的节点.</li>
</ul>
<h3 id="候选节点"><a href="#候选节点" class="headerlink" title="候选节点"></a>候选节点</h3><p> 集群中可以参与主节点竞选的节点.</p>
<p>需要满足的条件:</p>
<ul>
<li>配置文件中 <code>role.node:[&quot;master&quot;]</code></li>
</ul>
<h3 id="数据节点-data-node-d"><a href="#数据节点-data-node-d" class="headerlink" title="数据节点  data node (d)"></a>数据节点  data node (d)</h3><p>负责保存数据、执行数据相关操作：CRUD、搜索、聚合等。数据节点对CPU、内存、I/O要求较高.</p>
<ul>
<li>使用分片技术将数据分布在多个节点上,增强了性能和可扩展性.</li>
<li>接受集群分发的数据与搜索请求,并发搜索返回更快的执行结果.</li>
</ul>
<p>满足条件:</p>
<ul>
<li>配置文件中 <code>role.node:[&quot;data&quot;]</code> 或 <code>role.node:[&quot;data_xxx&quot;]</code></li>
</ul>
<p><strong>数据层 data tires</strong></p>
<p>不同热度的数据，通过 Data tiers 来界定。数据层是具有相同数据角色的节点的集合，通常共享相同的硬件配置文件。根据不同的热度，ES 把数据层定义为四个阶段：</p>
<ul>
<li>hot tier：处理时间序列数据（例如日志或指标）的索引负载，并保存您最近、最常访问的数据。</li>
<li>warm tier：保存访问频率较低且很少需要更新的时间序列数据。</li>
<li>cold tier：保存不经常访问且通常不更新的时间序列数据。</li>
<li>frozen tier：保存很少访问且从不更新的时间序列数据，保存在可搜索的快照中</li>
</ul>
<p>多层部署架构中,可以配置专门的数据角色分配数据节点到指定等级:data_countent,data_hot,data_warn,data_cold与data_frozen.</p>
<p>一个节点可以属于多个层,即通用data角色,但具有一个专用数据角色的节点无法拥有通用data角色.</p>
<h4 id="内容层-Content-Tier"><a href="#内容层-Content-Tier" class="headerlink" title="内容层 Content Tier"></a>内容层 Content Tier</h4><p>处理用户创建的文档内容，包括CRUD、数据搜索和聚合等。</p>
<ul>
<li>存储在内容层中的数据通常具有较长的数据保留要求，并且希望能够快速检索项目，无论它们有多旧。</li>
<li>优先考虑处理能力而不是 IO 吞吐量，因此它们可以处理复杂的搜索和聚合并快速返回结果。</li>
<li>内容层是必须的。不属于数据流的系统索引和其他索引会自动分配给内容层。</li>
</ul>
<h4 id="热数据层-Hot-Tier"><a href="#热数据层-Hot-Tier" class="headerlink" title="热数据层 Hot Tier"></a>热数据层 Hot Tier</h4><p>热层是时间序列数据的 Elasticsearch 入口点，保存最近、最常搜索的时间序列数据。</p>
<ul>
<li>热层中的节点需要快速读取和写入，这需要更多的硬件资源和更快的存储 (SSD)。</li>
<li>为了弹性，热层中的索引应配置为使用一个或多个副本。</li>
<li>热层是必须的。作为数据流一部分的新索引会自动分配给热层。</li>
</ul>
<h4 id="温数据层：Warm-Tier"><a href="#温数据层：Warm-Tier" class="headerlink" title="温数据层：Warm Tier"></a>温数据层：Warm Tier</h4><p>存储不再被经常更新但是仍然被查询的索引数据，相比较于在hot层数据查询的频率要低。</p>
<ul>
<li>查询的频率低于热层中最近索引的数据，时间序列数据就可以移动到温数据层。</li>
<li>温数据层通常保存最近几周的数据。仍然允许更新，但可能不频繁。</li>
<li>温数据层中的节点对读取和写入的速度没有太大的要求，对硬件资源和存储友好。</li>
<li>为了弹性，温数据层中的索引应配置为使用一个或多个副本。</li>
</ul>
<h4 id="冷数据层：Cold-Tier"><a href="#冷数据层：Cold-Tier" class="headerlink" title="冷数据层：Cold Tier"></a>冷数据层：Cold Tier</h4><p>存储很少被获取的只读索引，该层耗费资源少，可以搜索快照索引减少资源需求。</p>
<ul>
<li>冷层仍然是响应式查询层，但冷层中的数据不会正常更新。</li>
<li>在冷层中的数据,可以被压缩与缩小。</li>
<li>对于弹性，冷层可以使用完全安装的 可搜索快照索引，从而消除对副本的需求。</li>
</ul>
<h4 id="冻结层-Frozen-Tier"><a href="#冻结层-Frozen-Tier" class="headerlink" title="冻结层 Frozen Tier"></a>冻结层 Frozen Tier</h4><p>数据不再被查询或很少被查询，它可能会从冷数据层移动到冻结层，并且保留至直到数据被删除之前。</p>
<ul>
<li>使用部分安装的索引来存储和加载来自快照存储库的数据。</li>
</ul>
<h3 id="协调节点-coordination-node-c"><a href="#协调节点-coordination-node-c" class="headerlink" title="协调节点 coordination node (c)"></a>协调节点 coordination node (c)</h3><p>负责在整个 Elasticsearch 集群中分发查询,不会自行搜索数据，而是将该任务分配给数据节点。</p>
<ul>
<li>平均分配负载，确保快速有效地处理查询。</li>
<li>将查询分解为更小的子查询，并将它们分布在集群中进行处理。 </li>
<li>协调节点角色不是一个独立的解决方案。 为了获得最佳性能，集群中的所有角色都必须进行适当的优化和配置。 </li>
</ul>
<p>满足条件:</p>
<ul>
<li>node.roles: []</li>
</ul>
<h3 id="摄取节点-ingest-node-i"><a href="#摄取节点-ingest-node-i" class="headerlink" title="摄取节点  ingest node (i)"></a>摄取节点  ingest node (i)</h3><p>​    数据摄取之前对数据进行预处理。由于某些处理器（如grok处理器）可能消耗较多资源，因此专门为摄取管道分配独立的节点有利于搜索操作不受摄取处理的影响。</p>
<p>​    某些 Elastic Stack 产品（例如 Beats 和 Logstash）提供了自己的摄取管道。 这些管道能够收集和转换来自各种来源的数据，包括日志、指标和网络流量。</p>
<p>满足条件:</p>
<ul>
<li>node.roles: [“ingest”]</li>
<li>创建摄取管道</li>
</ul>
<h3 id="机器学习节点-machine-learning-node-l"><a href="#机器学习节点-machine-learning-node-l" class="headerlink" title="机器学习节点 machine learning node (l)"></a>机器学习节点 machine learning node (l)</h3><p>提供机器学习的功能，此类节点运行作业并处理机器学习 API 请求。</p>
<p>满足条件:</p>
<ul>
<li>node.roles: [“ml”]</li>
<li>CPU 必须能够处理 SSE4.2 指令</li>
</ul>
<h3 id="远程支持节点-remote-eligible-node-r"><a href="#远程支持节点-remote-eligible-node-r" class="headerlink" title="远程支持节点  remote eligible node (r)"></a>远程支持节点  remote eligible node (r)</h3><p>Elasticsearch 可以支持远程集群，能够跨多个站点复制数据以实现冗余和灾难恢复。 通过跨集群复制，数据可以实时或近乎实时地复制到远程集群，因此即使主集群出现故障，数据也始终可用。</p>
<p>满足条件:</p>
<ul>
<li>node.roles: [“remote_cluster_client”]</li>
</ul>
<h3 id="转换节点-transform-node-t"><a href="#转换节点-transform-node-t" class="headerlink" title="转换节点 transform node (t)"></a>转换节点 transform node (t)</h3><p>可以简单地汇总大量数据并使用这些节点优化你的转换 API 请求，以获得更快、更高效的结果,还可以执行数据规范化和过滤，确保分析合法可靠。</p>
<p>满足条件:</p>
<ul>
<li>node.roles: [“transform”]</li>
</ul>
<h3 id="获取集群的节点角色"><a href="#获取集群的节点角色" class="headerlink" title="获取集群的节点角色"></a>获取集群的节点角色</h3><pre><code class="bash">GET /_cat/nodes?v

ip           heap.percent ram.percent cpu load_1m load_5m load_15m node.role  master name
10.15.132.73           67          71   1    0.00    0.02     0.05 cdhilmrstw -      es-cn-xxx-0001
10.15.132.71           65          70   2    0.00    0.01     0.05 cdhilmrstw *      es-cn-xxx-0002
</code></pre>
<table>
<thead>
<tr>
<th>角色缩写</th>
<th>英文释义</th>
<th>中文释义</th>
</tr>
</thead>
<tbody><tr>
<td>c</td>
<td>cold node</td>
<td>冷数据节点</td>
</tr>
<tr>
<td>d</td>
<td>data node</td>
<td>数据节点</td>
</tr>
<tr>
<td>f</td>
<td>frozen node</td>
<td>冷冻数据节点</td>
</tr>
<tr>
<td>h</td>
<td>hot node</td>
<td>热数据节点</td>
</tr>
<tr>
<td>i</td>
<td>ingest node</td>
<td>数据预处理节点</td>
</tr>
<tr>
<td>l</td>
<td>machine learning node</td>
<td>机器学习节点</td>
</tr>
<tr>
<td>m</td>
<td>master-eligible node</td>
<td>候选主节点</td>
</tr>
<tr>
<td>r</td>
<td>remote cluster client node</td>
<td>远程节点</td>
</tr>
<tr>
<td>s</td>
<td>content node</td>
<td>内容数据节点</td>
</tr>
<tr>
<td>t</td>
<td>transform node</td>
<td>转换节点</td>
</tr>
<tr>
<td>v</td>
<td>voting-only node</td>
<td>仅投票节点</td>
</tr>
<tr>
<td>w</td>
<td>warm node</td>
<td>温数据节点</td>
</tr>
<tr>
<td>空</td>
<td>coordinating node only</td>
<td>仅协调节点</td>
</tr>
</tbody></table>
<h2 id="索引-index"><a href="#索引-index" class="headerlink" title="索引 index"></a>索引 index</h2><p>类似于我们Mysql里面的一个数据库. </p>
<p>es7之前的type: </p>
<ul>
<li>在每一个index下面，可以有一个或者多个type，好比数据库里面的一张表。</li>
<li>相当于表结构的描述，描述每个字段的类型。</li>
</ul>
<p>es7.x弱化type,一个索引只能有一个type,es8.x完全删除.</p>
<h2 id="文档-document"><a href="#文档-document" class="headerlink" title="文档 document"></a>文档 document</h2><p>是ES里面最小的数据单元，就好比表里面的一条数据。例如一个用户的文档、一个产品的文档等等。文档都是 JSON 格式的。</p>
<h2 id="分片-shard"><a href="#分片-shard" class="headerlink" title="分片 shard"></a>分片 shard</h2><p>一台服务器，无法存储大量的数据，ES把一个index里面的数据，分为多个shard，分布式的存储在各个服务器上面。</p>
<p>Elasticsearch 提供了将索引划分成多份的能力,每一份就称之为分片,这样一个索引可以存储超出单个节点硬件限制的大量数据。</p>
<ul>
<li>每个分片本身也是一个功能完善并且独立的“索引”,这个“索引”可以被放置到集群中的任何节点上。</li>
<li>允许水平扩容</li>
<li>允许在分片上进行分布式，并行计算，实现高性能，高吞吐量。</li>
<li>在索引创建时,定义分片的数量,创建之后无法更改.</li>
<li>设置settings 中的 number_of_shards 来指定 分片数量.</li>
</ul>
<p>一个 Lucene 索引 我们在 Elasticsearch 称作 分片 。 一个Elasticsearch 索引 是分片的集合。 当 Elasticsearch 在索引中搜索的时候, 他发送查询到每一个属于索引的分片(Lucene 索引),然后合并每个分片的结果到一个全局的结果集。</p>
<h2 id="副本-replica"><a href="#副本-replica" class="headerlink" title="副本 replica"></a>副本 replica</h2><p>​    分布式的集群，难免会有一台或者多台服务器宕机，如果我们没有副本这个概念, 就会造成我们的shard发生故障，无法提供正常服务.</p>
<ul>
<li>在分片/节点失败的情况下,提供了高可用性。因此,复制分片从不与原/主要分片置于同一节点上是非常重要的。</li>
<li>扩展搜索量/吞吐量,因为搜索可以在所有的副本上并行运行。</li>
<li>索引创建之后,可以在任何时候动态地改变副本的数量。</li>
<li>设置settings中的 number_of_replicas 来指定 副本数量.</li>
<li>同一个节点上面，副本和主分片是一定不会在一台机器上面的.所以当只有一个节点的时候，是无法创建副本的，当你新加入了一台节点，ES会自动的给你在新机器上创建一个之前分片的副本。</li>
</ul>
<h2 id="集群状态"><a href="#集群状态" class="headerlink" title="集群状态"></a>集群状态</h2><ul>
<li><p><strong>Green</strong>，集群处于健康状态，所有的主分片和副本分片都正常运行。</p>
</li>
<li><p><strong>Yellow</strong>，所有的主分片都运行正常，但是有部分副本分片不正常，意味着可能存在单点故障的风险（如果部分主分片没有备份了，一旦这个主分片数据丢失，将导致这些数据永久丢失）。如果集群只有 3 个数据节点，但是分配了 4 个副本（主分片 + 副本分片的总数），这个时候有一个副本无法分配的，因为相同的两份数据不应该被分配到同一个节点上。</p>
</li>
<li><p><strong>Red</strong>，有部分主分片没有正常运行。</p>
</li>
</ul>

            <!--[if lt IE 9]><script>document.createElement('audio');</script><![endif]-->
            <audio id="audio" loop="1" preload="auto" controls="controls"
                data-autoplay="false">
                <source type="audio/mpeg" src="">
            </audio>
            
            <ul id="audio-list" style="display:none">
                
                
                <li title='0' data-url='/statics/折戸伸治 - 梦のあと I.mp3'></li>
                
                    
            </ul>
            
            
            
        </div>
        <div class="sidebar">
            <div class="box animated fadeInRight">
                <div class="subbox">
                    <img src="/img/avatar.jpg" height=300 width=300></img>
                    <p>空痕影</p>
                    <span>学而不思则罔,思而不学则殆.</span>
                    <dl>
                        <dd><a href="https://github.com/konghenying" target="_blank"><span
                                    class=" iconfont icon-github"></span></a></dd>
                        <dd><a href="" target="_blank"><span
                                    class=" iconfont icon-twitter"></span></a></dd>
                        <dd><a href="" target="_blank"><span
                                    class=" iconfont icon-stack-overflow"></span></a></dd>
                    </dl>
                </div>
                <ul>
                    <li><a href="/">91 <p>文章</p></a></li>
                    <li><a href="/categories">18 <p>分类</p></a></li>
                    <li><a href="/tags">18 <p>标签</p></a></li>
                </ul>
            </div>
            
            
            
            <div class="box sticky animated fadeInRight faster">
                <div id="toc" class="subbox">
                    <h4>目录</h4>
                    <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#es%E6%A6%82%E5%BF%B5"><span class="toc-number">1.</span> <span class="toc-text">es概念</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#lucene"><span class="toc-number">1.0.1.</span> <span class="toc-text">lucene</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9B%86%E7%BE%A4"><span class="toc-number">1.1.</span> <span class="toc-text">集群</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%8A%82%E7%82%B9"><span class="toc-number">1.2.</span> <span class="toc-text">节点</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BB%E8%8A%82%E7%82%B9-master-node-m"><span class="toc-number">1.2.1.</span> <span class="toc-text">主节点  master node (m)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%80%99%E9%80%89%E8%8A%82%E7%82%B9"><span class="toc-number">1.2.2.</span> <span class="toc-text">候选节点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E8%8A%82%E7%82%B9-data-node-d"><span class="toc-number">1.2.3.</span> <span class="toc-text">数据节点  data node (d)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%8F%E8%B0%83%E8%8A%82%E7%82%B9-coordination-node-c"><span class="toc-number">1.2.4.</span> <span class="toc-text">协调节点 coordination node (c)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%91%84%E5%8F%96%E8%8A%82%E7%82%B9-ingest-node-i"><span class="toc-number">1.2.5.</span> <span class="toc-text">摄取节点  ingest node (i)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E8%8A%82%E7%82%B9-machine-learning-node-l"><span class="toc-number">1.2.6.</span> <span class="toc-text">机器学习节点 machine learning node (l)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%9C%E7%A8%8B%E6%94%AF%E6%8C%81%E8%8A%82%E7%82%B9-remote-eligible-node-r"><span class="toc-number">1.2.7.</span> <span class="toc-text">远程支持节点  remote eligible node (r)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BD%AC%E6%8D%A2%E8%8A%82%E7%82%B9-transform-node-t"><span class="toc-number">1.2.8.</span> <span class="toc-text">转换节点 transform node (t)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E9%9B%86%E7%BE%A4%E7%9A%84%E8%8A%82%E7%82%B9%E8%A7%92%E8%89%B2"><span class="toc-number">1.2.9.</span> <span class="toc-text">获取集群的节点角色</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B4%A2%E5%BC%95-index"><span class="toc-number">1.3.</span> <span class="toc-text">索引 index</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E6%A1%A3-document"><span class="toc-number">1.4.</span> <span class="toc-text">文档 document</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%86%E7%89%87-shard"><span class="toc-number">1.5.</span> <span class="toc-text">分片 shard</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%89%AF%E6%9C%AC-replica"><span class="toc-number">1.6.</span> <span class="toc-text">副本 replica</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9B%86%E7%BE%A4%E7%8A%B6%E6%80%81"><span class="toc-number">1.7.</span> <span class="toc-text">集群状态</span></a></li></ol></li></ol>
                </div>
            </div>
            
            
        </div>
    </div>
</div>

    </div>
</div>
    <div id="back-to-top" class="animated fadeIn faster">
        <div class="flow"></div>
        <span class="percentage animated fadeIn faster">0%</span>
        <span class="iconfont icon-top02 animated fadeIn faster"></span>
    </div>
</body>
<footer>
    <p class="copyright" id="copyright">
        &copy; 2024
        <span class="gradient-text">
            空痕影
        </span>.
        Powered by <a href="http://hexo.io/" title="Hexo" target="_blank" rel="noopener">Hexo</a>
        Theme
        <span class="gradient-text">
            <a href="https://github.com/TriDiamond/hexo-theme-obsidian" title="Obsidian" target="_blank" rel="noopener">Obsidian</a>
        </span>
        <small><a href="https://github.com/TriDiamond/hexo-theme-obsidian/blob/master/CHANGELOG.md" title="v1.4.4" target="_blank" rel="noopener">v1.4.4</a></small>
    </p>
</footer>

<script type="text/javascript" src="https://cdn.bootcss.com/mathjax/2.7.6/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<script>
  MathJax.Hub.Config({
    "HTML-CSS": {
      preferredFont: "TeX",
      availableFonts: ["STIX", "TeX"],
      linebreaks: {
        automatic: true
      },
      EqnChunk: (MathJax.Hub.Browser.isMobile ? 10 : 50)
    },
    tex2jax: {
      inlineMath: [
        ["$", "$"],
        ["\\(", "\\)"]
      ],
      processEscapes: true,
      ignoreClass: "tex2jax_ignore|dno",
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    },
    TeX: {
      noUndefined: {
        attributes: {
          mathcolor: "red",
          mathbackground: "#FFEEEE",
          mathsize: "90%"
        }
      },
      Macros: {
        href: "{}"
      }
    },
    messageStyle: "none"
  });
</script>
<script>
  function initialMathJax() {
    MathJax.Hub.Queue(function () {
      var all = MathJax.Hub.getAllJax(),
        i;
      // console.log(all);
      for (i = 0; i < all.length; i += 1) {
        console.log(all[i].SourceElement().parentNode)
        all[i].SourceElement().parentNode.className += ' has-jax';
      }
    });
  }

  function reprocessMathJax() {
    if (typeof MathJax !== 'undefined') {
      MathJax.Hub.Queue(["Typeset", MathJax.Hub]);
    }
  }
</script>


 
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="/js/plugin.js"></script>
<script src="/js/obsidian.js"></script>
<script src="/js/jquery.truncate.js"></script>
<script src="/js/search.js"></script>
 
<script src="//cdn.bootcss.com/typed.js/2.0.10/typed.min.js"></script>
 
<script src="//cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js"></script>
 
<script src="//cdnjs.cloudflare.com/ajax/libs/social-share.js/1.0.16/js/social-share.min.js"></script>


<script src="https://cdn.bootcss.com/codemirror/5.48.4/codemirror.min.js"></script>
 
<script src="//cdn.bootcss.com/codemirror/5.48.4/mode/javascript/javascript.min.js"></script>
  
<script src="//cdn.bootcss.com/codemirror/5.48.4/mode/css/css.min.js"></script>
  
<script src="//cdn.bootcss.com/codemirror/5.48.4/mode/xml/xml.min.js"></script>
  
<script src="//cdn.bootcss.com/codemirror/5.48.4/mode/htmlmixed/htmlmixed.min.js"></script>
  
<script src="//cdn.bootcss.com/codemirror/5.48.4/mode/clike/clike.min.js"></script>
  
<script src="//cdn.bootcss.com/codemirror/5.48.4/mode/php/php.min.js"></script>
  
<script src="//cdn.bootcss.com/codemirror/5.48.4/mode/shell/shell.min.js"></script>
  
<script src="//cdn.bootcss.com/codemirror/5.48.4/mode/python/python.min.js"></script>
   
<script src="/js/busuanzi.min.js"></script>

<script>
  $(document).ready(function () {
    if ($('span[id^="busuanzi_"]').length) {
      initialBusuanzi();
    }
  });
</script>
 
<link rel="stylesheet" href="//cdn.bootcss.com/photoswipe/4.1.3/photoswipe.min.css">
<link rel="stylesheet" href="//cdn.bootcss.com/photoswipe/4.1.3/default-skin/default-skin.min.css">


<script src="//cdn.bootcss.com/photoswipe/4.1.3/photoswipe.min.js"></script>
<script src="//cdn.bootcss.com/photoswipe/4.1.3/photoswipe-ui-default.min.js"></script>


<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>
    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">
        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>
        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">
            <div class="pswp__top-bar">
                <!--  Controls are self-explanatory. Order can be changed. -->
                <div class="pswp__counter"></div>
                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
                <button class="pswp__button pswp__button--share" title="Share"></button>
                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>
            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>
            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>
            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>
            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>
        </div>
    </div>
</div>
 
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="//www.googletagmanager.com/gtag/js?id=UA-149874671-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag() {
    dataLayer.push(arguments);
  }
  gtag('js', new Date());

  gtag('config', 'UA-149874671-1');
</script>
 

<script>
  function initialTyped() {
    var typedTextEl = $('.typed-text');
    if (typedTextEl && typedTextEl.length > 0) {
      var typed = new Typed('.typed-text', {
        strings: ['学而不思则罔,思而不学则殆.', '岁月是一指流沙,苍老是一段年华.'],
        typeSpeed: 90,
        loop: true,
        loopCount: Infinity,
        backSpeed: 20,
      });
    }
  }

  if ($('.article-header') && $('.article-header').length) {
    $(document).ready(function () {
      initialTyped();
    });
  }
</script>




 <!-- 例：百度统计 --> <script> var _hmt = _hmt || []; (function() { var hm = document.createElement("script"); hm.src = "https://hm.baidu.com/hm.js?d180eba02c599a67bfa54b22bf3b32f2"; var s = document.getElementsByTagName("script")[0];  s.parentNode.insertBefore(hm, s); })(); </script> 

</html>
